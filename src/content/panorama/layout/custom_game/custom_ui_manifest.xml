<root>
    <scripts>
        <include src="file://{resources}/scripts/custom_game/playertables_base.js" />
        <include src="file://{resources}/scripts/custom_game/keybinds.js" />
        <include src="file://{resources}/scripts/custom_game/util.js" />
        <include src="file://{resources}/scripts/custom_game/stat_uploader.js" />
        <include src="file://{resources}/scripts/custom_game/ability_costs.js" />
        <include src="file://{resources}/scripts/ModDota/LocalStorage.js" />

        <include src="file://{resources}/scripts/custom_game/ui_hack.js" />
        <include src="file://{resources}/scripts/custom_game/camera_zoom.js" />
    </scripts>

    <script>
        GameUI.CustomUIConfig().multiteam_top_scoreboard = {
            shouldSort: false
        };

        GameUI.SetDefaultUIEnabled(DotaDefaultUIElement_t.DOTA_DEFAULT_UI_HERO_SELECTION_TEAMS, false);
        GameUI.SetDefaultUIEnabled(DotaDefaultUIElement_t.DOTA_DEFAULT_UI_HERO_SELECTION_GAME_NAME, false);
        GameUI.SetDefaultUIEnabled(DotaDefaultUIElement_t.DOTA_DEFAULT_UI_HERO_SELECTION_CLOCK, false);

        GameUI.SetDefaultUIEnabled(DotaDefaultUIElement_t.DOTA_DEFAULT_UI_ENDGAME, false);

        GameEvents.Subscribe('lodCreateIngameErrorMessage', function(data) {
            GameEvents.SendEventClientSide('dota_hud_error_message', {
                splitscreenplayer: 0,
                reason: data.reason || 80,
                message: data.message
            })
        });

        GameEvents.Subscribe('lodEmitClientSound', function(data) {
            if (data.sound) {
                Game.EmitSound(data.sound);
            }
        });

        var mapName = Game.GetMapInfo().map_display_name;

        if (mapName == "overthrow") {
            GameUI.CustomUIConfig().multiteam_top_scoreboard =
            {
                reorder_team_scores: true,
                LeftInjectXMLFile: "file://{resources}/layout/custom_game/overthrow_scoreboard_left.xml",
                TeamOverlayXMLFile: "file://{resources}/layout/custom_game/overthrow_scoreboard_team_overlay.xml"
            };

            GameUI.CustomUIConfig().team_logo_xml = "file://{resources}/layout/custom_game/overthrow_team_icon.xml";
            GameUI.CustomUIConfig().team_logo_large_xml = "file://{resources}/layout/custom_game/overthrow_team_icon_large.xml";

            GameUI.SetDefaultUIEnabled( DotaDefaultUIElement_t.DOTA_DEFAULT_UI_TOP_TIMEOFDAY, false );
            GameUI.SetDefaultUIEnabled( DotaDefaultUIElement_t.DOTA_DEFAULT_UI_TOP_HEROES, false );
            GameUI.SetDefaultUIEnabled( DotaDefaultUIElement_t.DOTA_DEFAULT_UI_FLYOUT_SCOREBOARD, false );

            GameUI.SetDefaultUIEnabled( DotaDefaultUIElement_t.DOTA_DEFAULT_UI_ENDGAME, false );

            GameUI.CustomUIConfig().team_colors = {}
            GameUI.CustomUIConfig().team_colors[DOTATeam_t.DOTA_TEAM_GOODGUYS] = "#3dd296;"; // { 61, 210, 150 }    --      Teal
            GameUI.CustomUIConfig().team_colors[DOTATeam_t.DOTA_TEAM_BADGUYS ] = "#F3C909;"; // { 243, 201, 9 }     --      Yellow
            GameUI.CustomUIConfig().team_colors[DOTATeam_t.DOTA_TEAM_CUSTOM_1] = "#c54da8;"; // { 197, 77, 168 }    --      Pink
            GameUI.CustomUIConfig().team_colors[DOTATeam_t.DOTA_TEAM_CUSTOM_2] = "#FF6C00;"; // { 255, 108, 0 }     --      Orange
            GameUI.CustomUIConfig().team_colors[DOTATeam_t.DOTA_TEAM_CUSTOM_3] = "#3455FF;"; // { 52, 85, 255 }     --      Blue
            GameUI.CustomUIConfig().team_colors[DOTATeam_t.DOTA_TEAM_CUSTOM_4] = "#65d413;"; // { 101, 212, 19 }    --      Green
            GameUI.CustomUIConfig().team_colors[DOTATeam_t.DOTA_TEAM_CUSTOM_5] = "#815336;"; // { 129, 83, 54 }     --      Brown
            GameUI.CustomUIConfig().team_colors[DOTATeam_t.DOTA_TEAM_CUSTOM_6] = "#1bc0d8;"; // { 27, 192, 216 }    --      Cyan
            GameUI.CustomUIConfig().team_colors[DOTATeam_t.DOTA_TEAM_CUSTOM_7] = "#c7e40d;"; // { 199, 228, 13 }    --      Olive
            GameUI.CustomUIConfig().team_colors[DOTATeam_t.DOTA_TEAM_CUSTOM_8] = "#8c2af4;"; // { 140, 42, 244 }    --      Purple

            GameUI.CustomUIConfig().team_icons = {}
            GameUI.CustomUIConfig().team_icons[DOTATeam_t.DOTA_TEAM_GOODGUYS] = "file://{images}/custom_game/team_icons/team_icon_tiger_01.png";
            GameUI.CustomUIConfig().team_icons[DOTATeam_t.DOTA_TEAM_BADGUYS ] = "file://{images}/custom_game/team_icons/team_icon_monkey_01.png";
            GameUI.CustomUIConfig().team_icons[DOTATeam_t.DOTA_TEAM_CUSTOM_1] = "file://{images}/custom_game/team_icons/team_icon_dragon_01.png";
            GameUI.CustomUIConfig().team_icons[DOTATeam_t.DOTA_TEAM_CUSTOM_2] = "file://{images}/custom_game/team_icons/team_icon_dog_01.png";
            GameUI.CustomUIConfig().team_icons[DOTATeam_t.DOTA_TEAM_CUSTOM_3] = "file://{images}/custom_game/team_icons/team_icon_rooster_01.png";
            GameUI.CustomUIConfig().team_icons[DOTATeam_t.DOTA_TEAM_CUSTOM_4] = "file://{images}/custom_game/team_icons/team_icon_ram_01.png";
            GameUI.CustomUIConfig().team_icons[DOTATeam_t.DOTA_TEAM_CUSTOM_5] = "file://{images}/custom_game/team_icons/team_icon_rat_01.png";
            GameUI.CustomUIConfig().team_icons[DOTATeam_t.DOTA_TEAM_CUSTOM_6] = "file://{images}/custom_game/team_icons/team_icon_boar_01.png";
            GameUI.CustomUIConfig().team_icons[DOTATeam_t.DOTA_TEAM_CUSTOM_7] = "file://{images}/custom_game/team_icons/team_icon_snake_01.png";
            GameUI.CustomUIConfig().team_icons[DOTATeam_t.DOTA_TEAM_CUSTOM_8] = "file://{images}/custom_game/team_icons/team_icon_horse_01.png";

            $.GetContextPanel().BCreateChildren("<CustomUIElement type='HudTopBar'           layoutfile='file://{resources}/layout/custom_game/multiteam_top_scoreboard.xml' />");
            $.GetContextPanel().BCreateChildren("<CustomUIElement type='Hud'           layoutfile='file://{resources}/layout/custom_game/overthrow_item_notification.xml' />");
            $.GetContextPanel().BCreateChildren("<CustomUIElement type='HeroSelection'           layoutfile='file://{resources}/layout/custom_game/multiteam_hero_select_overlay.xml' />");
            // $.GetContextPanel().BCreateChildren("<CustomUIElement type='GameInfo'           layoutfile='file://{resources}/layout/custom_game/overthrow_game_info.xml' />");
        } else {
            $.GetContextPanel().BCreateChildren("<CustomUIElement type='HudTopBar'           layoutfile='file://{resources}/layout/custom_game/top_scoreboard.xml' />");
        }

    </script>

	<Panel>
        <CustomUIElement type="GameSetup" layoutfile="file://{resources}/layout/custom_game/game_setup/game_setup.xml" />
        <CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/hero_selection.xml" />
        <CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/statcollection.xml" />
        <!-- <CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/panorama_shop.xml" /> -->

        <CustomUIElement type="EndScreen" layoutfile="file://{resources}/layout/custom_game/multiteam_end_screen.xml" />

        <CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/ingame_hero_builder.xml" />
        <CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/team_switch.xml" />
        <CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/team_switch_vote.xml" />

        <CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/menu_buttons.xml" />

        <CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/changelog.xml" />
		<CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/cheats.xml" />
        <CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/duel_ui.xml" />

        <CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/hud_hack_700.xml" />

        <CustomUIElement type="FlyoutScoreboard" layoutfile="file://{resources}/layout/custom_game/scoreboard_flyout.xml" />

        <CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/ingame_votings.xml" />

        <CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/barebones_notifications.xml" />
        <!-- Textures compiling stuff
            <CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/dummy.xml" />
            -->
    </Panel>
</root>
